'use strict';
var request = require('request'),
$ = require('cheerio');

/////////////////////
function searchTitle (response,body,lang, callback) {
      var subs = [];
    var ch = $.load(body);

    if(ch('h2.exact').text()==="Exact"){

    var next=ch('h2.exact').next();

    var str=next.children("li").children("div").eq(0).children('a').attr('href');
    if(str===undefined ){

  callback(true,"");
}
else{
  callback(false,str);

}
}
else{


callback(true,"");

}

  }

module.exports = function(response,body,lang, callback) {
  /*==>encodeURIComponent(releaseName)
  This function encodes special characters. In addition, it encodes the following characters: , / ? : @ & = + $ #
                                                                                                */

  searchTitle(response,body,lang,function(err,data){
    callback(err,'http://subscene.com'+data);



  });


};
